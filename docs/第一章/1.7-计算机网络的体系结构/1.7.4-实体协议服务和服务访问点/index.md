# 1.7.4 实体、协议、服务和服务访问点

## 实体（Entity）
- **定义**：任何可发送或接收信息的硬件或软件进程
- **说明**：每一层中的活动元素

## 协议（Protocol）
- **定义**：控制两个对等实体（或多个实体）进行通信的规则的集合
- **特点**：
  - 是**水平的**（对等层之间的规则）
  - 协议是"水平的"，即协议是控制对等实体之间通信的规则
- **关键理解**：
  - 协议控制的是**同一层**的不同机器之间的通信
  - 例如：TCP协议控制的是两台主机的运输层之间的通信规则

## 服务（Service）
- **定义**：下层向上层通过层间接口提供的功能
- **特点**：
  - 是**垂直的**（相邻层之间的交互）
  - 服务是"垂直的"，即服务是由下层向上层通过层间接口提供的
- **关键理解**：
  - 服务是**相邻层**之间的交互
  - 下层为上层提供服务，上层通过**服务访问点（SAP）**使用下层的服务
  - 上层**看不见**下层的协议实现细节，只能使用下层提供的服务

## ⚠️ 协议 vs 服务（易混淆点）

### 核心区别
| 维度 | 协议（Protocol） | 服务（Service） |
|------|-----------------|-----------------|
| **方向** | **水平的**（横向） | **垂直的**（纵向） |
| **关系** | 对等实体之间（同一层） | 相邻层之间（上下层） |
| **作用** | 控制对等实体如何通信 | 下层为上层提供功能 |
| **可见性** | 对等实体之间可见 | 上层只能看到服务接口，看不到实现 |

### 记忆口诀
- **协议是水平的**：同一层的不同机器之间如何"对话"
- **服务是垂直的**：下层为上层"服务"，上层通过接口使用

### 典型考题
**题目**：简述协议和服务的区别。

**答案要点**：
1. 协议是**水平的**，控制对等实体（同一层）之间的通信规则
2. 服务是**垂直的**，下层向上层通过层间接口提供的功能
3. 下层为上层服务，上层看不见下层的协议实现，只能使用下层提供的服务接口

## 服务访问点（SAP - Service Access Point）
- **定义**：相邻两层实体间交换信息的地方
- **说明**：上层使用下层服务的接口

## 服务数据单元（SDU - Service Data Unit）
- **定义**：层与层之间交换的数据单元
- **关系**：SDU + PCI（协议控制信息） = PDU（协议数据单元）

