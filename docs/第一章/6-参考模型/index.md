# 1.6 参考模型

本节对比了两种主要的网络体系结构参考模型：ISO/OSI参考模型和TCP/IP模型。虽然OSI模型是理论上的国际标准，但TCP/IP模型因其简洁和实用性成为了事实上的标准。

### 核心概念

#### 1. OSI（开放系统互连）参考模型

*   **背景**：国际标准化组织 (ISO) 于1984年发布，旨在实现异构系统之间的互连互通。
*   **七层结构**：

    | 层数 | 名称       | 主要功能                                                                                              |
    | :--- | :--------- | :---------------------------------------------------------------------------------------------------- |
    | 7    | **应用层** | 为应用程序提供网络服务，识别并保证通信对方可用性，同步协同工作的应用程序，错误纠正和数据完整性控制。 |
    | 6    | **表示层** | 处理数据表示方式，数据格式转换、加密/解密、压缩/恢复。                                              |
    | 5    | **会话层** | 维护两个节点之间的传输链接，确保点-点传输不中断，管理数据交换（建立、管理、终止会话）。          |
    | 4    | **传输层** | 提供可靠**端到端 (end-to-end)** 服务，处理数据包错误、次序等关键传输问题。屏蔽下层细节。            |
    | 3    | **网络层** | 通过路由选择算法为分组选择最佳路径，创建逻辑链路，实现拥塞控制、网络互连等功能。                   |
    | 2    | **数据链路层** | 在物理层基础上，建立数据链路连接，传输以"帧"为单位的数据包，进行差错控制与流量控制。             |
    | 1    | **物理层** | 利用传输介质建立、管理、释放物理连接，实现比特流透明传输。                                          |

*   **OSI失败的原因**：
    *   **商业驱动力不足**：专家制定时缺乏市场需求驱动。
    *   **过于复杂**：协议实现复杂，运行效率低。
    *   **制定周期太长**：无法及时进入市场。
    *   **层次划分不合理**：有些功能在多个层次中重复出现。

#### 2. TCP/IP 参考模型

*   **背景**：因特网（Internet）的事实标准，比OSI模型更早投入使用和普及。
*   **四层结构**（有时也描述为五层，将"网络接口层"进一步细化为数据链路层和物理层）：

    | 层数 | 名称         | 主要功能                                                                      | 对应OSI层                |
    | :--- | :----------- | :---------------------------------------------------------------------------- | :----------------------- |
    | 4    | **应用层**   | 为各种应用程序提供服务，如HTTP, SMTP, DNS, FTP, Telnet等。                  | OSI的应用层、表示层、会话层 |
    | 3    | **传输层**   | 在源主机与目的主机的对等实体间建立端-端连接。提供可靠（TCP）或不可靠（UDP）服务。 | OSI的传输层              |
    | 2    | **网际层**   | 处理互连网络的路由选择、流控与拥塞问题。IP协议提供**无连接、"尽力而为"**服务。 | OSI的网络层              |
    | 1    | **网络接口层** | 负责通过网络发送和接收IP数据报。允许使用多种现成协议（Ethernet, X.25等）。 | OSI的数据链路层、物理层    |

*   **TCP/IP协议族**：
    *   沙漏计时器形状：顶层（应用）和底层（网络接口）多样，中间的TCP和IP是核心，提供了强大的互操作性和兼容性。
    *   **IP**：互联网的核心，无连接分组交付服务，可应用到各式各样的网络，为各式各样的应用程序提供服务。
*   **路由器的工作**：路由器在转发分组时最高只用到**网络层**（网际层），而不涉及传输层和应用层。

#### 3. OSI 与 TCP/IP 体系结构的比较

| 特性     | OSI 模型                                          | TCP/IP 模型                                   |
| :------- | :------------------------------------------------ | :-------------------------------------------- |
| **层数** | 7层                                               | 4层（或5层，将网络接口层细化）                  |
| **理论/实践** | 理论上严谨的国际标准，但市场推广失败           | 因特网的事实标准，广泛应用                   |
| **面向连接** | 网络层和传输层都可面向连接                     | 网络层是无连接的，传输层可选择面向连接或无连接 |
| **核心协议** | 未能形成统一的核心协议                        | TCP和IP是核心                               |
| **模型差异** | 严格定义了服务、接口和协议的差异             | 没有严格区分服务、接口和协议，概念融合       |
| **功能划分** | 表示层和会话层功能明确，但有时重复和复杂      | 将表示层和会话层功能并入应用层，更简洁       |

### 易考点 & 难点

*   **易考点**：
    *   OSI七层模型和TCP/IP四层/五层模型中各层的名称和核心功能。
    *   OSI模型失败的原因。
    *   TCP/IP模型中TCP和IP协议的定位及特点（TCP可靠、面向连接；IP不可靠、无连接）。
    *   路由器在TCP/IP协议族中的工作层次（网络层）。
    *   OSI与TCP/IP模型的关键对比（层数、理论/实践、面向连接特性、功能合并等）。
*   **难点**：
    *   理解OSI模型中表示层和会话层的功能，以及为何TCP/IP将其合并到应用层。
    *   深入理解TCP/IP"沙漏计时器"形状的含义，即IP层的通用性是其成功的关键。