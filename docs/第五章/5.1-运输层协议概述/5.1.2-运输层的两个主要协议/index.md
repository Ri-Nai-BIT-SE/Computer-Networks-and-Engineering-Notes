# 5.1.2 运输层的两个主要协议 (★重点考察对比)

## 使用UDP和TCP的典型应用和应用层协议

| 层次 | 使用UDP | 使用TCP |
| :--- | :--- | :--- |
| **应用** | 域名解析服务<br>动态主机配置<br>路由选择<br>文件传输<br>流式多媒体通信 | 万维网 WWW<br>电子邮件<br>文件传送<br>远程终端接入 |
| **应用层协议** | DNS<br>DHCP<br>RIP<br>TFTP<br>专用协议 | HTTP<br>SMTP<br>FTP<br>TELNET |
| **运输层** | **UDP** | **TCP** |
| **网络层** | **IP** | **IP** |

互联网在运输层有两个互不相同的协议：

## 1. 用户数据报协议 UDP (User Datagram Protocol)

- **无连接**：发送数据前不需要建立连接
- **不可靠交付**：尽最大努力交付，不保证不丢失、不重复
- **面向报文**：对应用层交下来的报文，不合并也不拆分，保留边界（一次发一个完整的报文）
- **无拥塞控制**：网络拥塞不会降低发送速率（适合实时应用，如视频会议、直播）
- **支持交互方式**：支持一对一、一对多、多对一、多对多
- **首部开销小**：只有 **8个字节**

## 2. 传输控制协议 TCP (Transmission Control Protocol)

- **面向连接**：通信前必须先建立TCP连接（三次握手）
- **可靠交付**：无差错、不丢失、不重复、按序到达
- **面向字节流**：将数据看作一连串无结构的字节流，不保证数据块大小对应，但保证字节流内容一致
- **全双工通信**：连接的两端都可以发送和接收数据
- **点对点**：每一条TCP连接只能有两个端点（一对一）
- **首部开销大**：最小 **20个字节**

---

## 🎓 考试重点总结

### TCP与UDP的区别

这是**综合题**经常涉及的基础，需要能列表对比（是否连接、可靠性、传输单位、应用场景、首部开销）。

**例题思路**：
- 为什么视频直播常用UDP？（实时性强，允许少量丢包，无拥塞控制不会因为网络波动突然降低发送速率）
- 为什么文件传输用TCP？（必须保证可靠，数据不能丢）

### 面向报文 vs 面向字节流

- **UDP面向报文**：应用层给多少，UDP发多少，保留报文边界。若报文太长会分片，太短则效率低
- **TCP面向字节流**：TCP不关心应用层一次发多少，它根据对方给出的窗口值和当前网络拥塞程度来决定一个报文段包含多少字节
